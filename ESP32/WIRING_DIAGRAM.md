# ğŸ”Œ Wiring Diagram - Smart Home Door Access System

## ğŸ“ ESP32 Main Controller - Complete Wiring

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚      ESP32 MAIN CONTROLLER          â”‚
                    â”‚                                     â”‚
                    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                    â”‚  â”‚   ESP32 Dev Module           â”‚  â”‚
                    â”‚  â”‚                              â”‚  â”‚
                    â”‚  â”‚  [USB] â† to Computer         â”‚  â”‚
                    â”‚  â”‚                              â”‚  â”‚
Sensors:            â”‚  â”‚  GPIO 21 â”€â”€â”€â”€â”€â”              â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  â”‚  5V â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”¼â”€â†’â”‚ DHT22         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚  â”‚  GND â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”¼â”€â†’â”‚ (Temp/Humid)  â”‚
â”‚   DHT22     â”‚â†â”€â”€â”€â”€â”¼â”€â”€â”¤               â”‚              â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚  (GPIO21)   â”‚     â”‚  â”‚  GPIO 34 â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”¼â”€â†’â”
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  â”‚               â”‚              â”‚  â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  â”‚  GPIO 35 â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”¼â”€â†’â”‚ â”‚   LDR         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚  â”‚               â”‚              â”‚  â”‚  â”‚ â”‚  (GPIO34)     â”‚
â”‚    LDR      â”‚â†â”€â”€â”€â”€â”¼â”€â”€â”¤               â”‚              â”‚  â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚  (GPIO34)   â”‚     â”‚  â”‚               â”‚              â”‚  â”‚  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  â”‚               â”‚              â”‚  â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  â”‚               â”‚              â”‚  â”‚  â””â†’â”‚   MQ-2        â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚  â”‚               â”‚              â”‚  â”‚    â”‚  (GPIO35)     â”‚
â”‚    MQ-2     â”‚â†â”€â”€â”€â”€â”¼â”€â”€â”¤               â”‚              â”‚  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚  (GPIO35)   â”‚     â”‚  â”‚               â”‚              â”‚  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  â”‚  GPIO 16 (RX2)â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”¼â”€â†’â”
                    â”‚  â”‚  GPIO 17 (TX2)â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”¼â”€â†’â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
Fingerprint:        â”‚  â”‚  5V â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”¼â”€â†’â”‚ â”‚  JM-101B      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚  â”‚  GND â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”¼â”€â†’â”‚ â”‚  Fingerprint  â”‚
â”‚  JM-101B    â”‚â†â”€â”€â”€â”€â”¼â”€â”€â”¤                â”‚              â”‚  â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚(GPIO16/17)  â”‚     â”‚  â”‚                â”‚              â”‚  â”‚  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  â”‚  Keypad Pins:  â”‚              â”‚  â”‚  â”‚
                    â”‚  â”‚  GPIO 13 â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”¼â”€â”€â”¤
Keypad 4x4:         â”‚  â”‚  GPIO 12 â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”¼â”€â”€â”¤
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚  â”‚  GPIO 14 â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”¼â”€â”€â”¤ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1 2 3 A    â”‚     â”‚  â”‚  GPIO 27 â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”¼â”€â”€â”¤ â”‚   Keypad      â”‚
â”‚  4 5 6 B    â”‚â†â”€â”€â”€â”€â”¼â”€â”€â”¤  GPIO 26 â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”¼â”€â”€â”¤ â”‚   4Ã—4 Matrix  â”‚
â”‚  7 8 9 C    â”‚     â”‚  â”‚  GPIO 25 â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”¼â”€â”€â”¤ â”‚               â”‚
â”‚  * 0 # D    â”‚     â”‚  â”‚  GPIO 33 â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”¼â”€â”€â”¤ â”‚   Rows: 13,12,â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  â”‚  GPIO 32 â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”¼â”€â”€â”˜ â”‚        14,27  â”‚
                    â”‚  â”‚                â”‚              â”‚  â”‚    â”‚   Cols: 26,25,â”‚
Relays:             â”‚  â”‚  GPIO 4 â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”¼â”€â†’â” â”‚        33,32  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚  â”‚  GPIO 2 â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”¼â”€â†’â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ Relay Door  â”‚â†â”€â”€â”€â”€â”¼â”€â”€â”¤  GPIO 15 â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”¼â”€â†’â”‚
â”‚  (GPIO4)    â”‚     â”‚  â”‚  GPIO 5 â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”¼â”€â†’â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  â”‚                â”‚              â”‚  â”‚  â”‚ â”‚ Relay Module  â”‚
                    â”‚  â”‚  5V â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”¼â”€â†’â”‚ â”‚ (3 Channel)   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚  â”‚  GND â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”¼â”€â†’â”‚ â”‚               â”‚
â”‚ Relay Lamp  â”‚â†â”€â”€â”€â”€â”¼â”€â”€â”¤                â”‚              â”‚  â”‚  â”‚ â”‚ IN1 â†’ Door    â”‚
â”‚  (GPIO2)    â”‚     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚ â”‚ IN2 â†’ Lamp    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚                                     â”‚  â”‚ â”‚ IN3 â†’ Curtain â”‚
                    â”‚                                     â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚                                     â”‚  â”‚
â”‚Relay Curtainâ”‚â†â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”˜
â”‚  (GPIO15)   â”‚     â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚                                     â”‚
                    â”‚                                     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
Buzzer:             â”‚                                     â””â”€â†’â”‚   Buzzer      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚                                        â”‚   (GPIO5)     â”‚
â”‚   Buzzer    â”‚â†â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   5V Active   â”‚
â”‚  (GPIO5)    â”‚     â”‚                                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Power Supply:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  12V 2A Power Supply                                      â”‚
â”‚   â”œâ”€â†’ Solenoid Lock (via Relay Door)                     â”‚
â”‚   â””â”€â†’ Buck Converter (12V â†’ 5V)                          â”‚
â”‚        â”œâ”€â†’ ESP32 (5V)                                     â”‚
â”‚        â”œâ”€â†’ DHT22 (5V)                                     â”‚
â”‚        â”œâ”€â†’ Relay Module (5V)                              â”‚
â”‚        â”œâ”€â†’ Fingerprint Sensor (5V)                        â”‚
â”‚        â””â”€â†’ Buzzer (5V)                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“· ESP32-CAM Wiring (Standalone)

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚      ESP32-CAM MODULE           â”‚
                    â”‚                                 â”‚
                    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                    â”‚  â”‚   AI-Thinker ESP32-CAM   â”‚  â”‚
                    â”‚  â”‚                          â”‚  â”‚
                    â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
                    â”‚  â”‚  â”‚   OV2640 Camera    â”‚  â”‚  â”‚
                    â”‚  â”‚  â”‚      Module        â”‚  â”‚  â”‚
                    â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
                    â”‚  â”‚                          â”‚  â”‚
                    â”‚  â”‚  [5V]  [GND]  [GPIO0]   â”‚  â”‚
                    â”‚  â”‚   â”‚     â”‚       â”‚       â”‚  â”‚
                    â”‚  â””â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                    â”‚     â”‚     â”‚       â”‚            â”‚
                    â””â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚     â”‚       â”‚
                          â”‚     â”‚       â””â”€â”€â”€â”€â” (untuk upload)
                          â”‚     â”‚            â”‚
                    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
                    â”‚   5V 2A Power Supply          â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Note: ESP32-CAM tidak punya USB port built-in
      Untuk upload code, pakai method berikut:
      1. FTDI Programmer (jika punya)
      2. ESP32 UART Bridge (recommended, dijelaskan di bawah)
```

---

## ğŸŒ‰ ESP32 UART Bridge untuk Upload ESP32-CAM

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ESP32 Dev Module (Bridge)    â”‚         â”‚      ESP32-CAM (Target)        â”‚
â”‚                                â”‚         â”‚                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                          â”‚  â”‚         â”‚  â”‚                          â”‚  â”‚
â”‚  â”‚  [USB] â† to Computer     â”‚  â”‚         â”‚  â”‚   [OV2640 Camera]        â”‚  â”‚
â”‚  â”‚                          â”‚  â”‚         â”‚  â”‚                          â”‚  â”‚
â”‚  â”‚  GPIO 17 (TX2) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â†’â”‚  U0R (RX)                â”‚  â”‚
â”‚  â”‚                          â”‚  â”‚         â”‚  â”‚                          â”‚  â”‚
â”‚  â”‚  GPIO 16 (RX2) â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”‚  U0T (TX)                â”‚  â”‚
â”‚  â”‚                          â”‚  â”‚         â”‚  â”‚                          â”‚  â”‚
â”‚  â”‚  GND â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â†’â”‚  GND                     â”‚  â”‚
â”‚  â”‚                          â”‚  â”‚         â”‚  â”‚                          â”‚  â”‚
â”‚  â”‚  5V â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â†’â”‚  5V                      â”‚  â”‚
â”‚  â”‚                          â”‚  â”‚         â”‚  â”‚                          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚         â”‚  â”‚  GPIO0 â”€â”€â”€â”€â”€â”€â”€â”          â”‚  â”‚
â”‚                                â”‚         â”‚  â”‚               â”‚          â”‚  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                                           â”‚                  â”‚              â”‚
                                           â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                                           â”‚  â”‚   Jumper Wire            â”‚  â”‚
                                           â”‚  â”‚   (untuk upload mode)    â”‚  â”‚
                                           â”‚  â”‚                          â”‚  â”‚
                                           â”‚  â”‚   GPIO0 â”€â”€â”€â”€â”€â”€â”€â”€ GND     â”‚  â”‚
                                           â”‚  â”‚                          â”‚  â”‚
                                           â”‚  â”‚   âš ï¸  DISCONNECT AFTER    â”‚  â”‚
                                           â”‚  â”‚      UPLOAD COMPLETE     â”‚  â”‚
                                           â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                                           â”‚                                â”‚
                                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Upload Steps:
1. Upload "esp32_uart_bridge.ino" ke ESP32 biasa
2. Wiring sesuai diagram di atas
3. Connect GPIO0 ESP32-CAM ke GND (jumper wire)
4. Select Board: "AI Thinker ESP32-CAM"
5. Select Port: (port ESP32 bridge)
6. Upload code
7. Disconnect GPIO0 dari GND setelah upload
8. Press RST button ESP32-CAM
```

---

## ğŸ”‹ Power Distribution Diagram

```
                            [MAIN POWER INPUT]
                                   â”‚
                            â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
                            â”‚   220V AC    â”‚
                            â”‚   Adapter    â”‚
                            â”‚   12V 2A     â”‚
                            â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚          12V Rail            â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
                           â”‚                   â”‚
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚  Relay Module   â”‚  â”‚  Buck Converterâ”‚
                  â”‚  (Door Lock)    â”‚  â”‚  (12V â†’ 5V)    â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚                   â”‚
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
                  â”‚ Solenoid Lock   â”‚          â”‚
                  â”‚    (12V)        â”‚          â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
                                               â”‚
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚            5V Rail                   â”‚
                            â””â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”
                    â”‚          â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”‚      â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”     â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”‚      â”‚
            â”‚  ESP32     â”‚     â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”‚      â”‚
            â”‚  Main      â”‚     â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”‚      â”‚
            â”‚ Controller â”‚     â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”‚      â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”‚      â”‚
                               â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”‚      â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”˜   â”‚   â”‚   â”‚   â”‚   â”‚      â”‚
            â”‚  ESP32-CAM               â”‚   â”‚   â”‚   â”‚   â”‚      â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚   â”‚   â”‚      â”‚
                                           â”‚   â”‚   â”‚   â”‚      â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”˜   â”‚   â”‚      â”‚
            â”‚  DHT22 Sensor                        â”‚   â”‚      â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚      â”‚
                                                       â”‚      â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”˜
            â”‚  Fingerprint Sensor (JM-101B)                   â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Total Power Consumption:
- ESP32 Main: 500mA @ 5V = 2.5W
- ESP32-CAM: 800mA @ 5V = 4.0W (with flash)
- Solenoid Lock: 500mA @ 12V = 6.0W (when active)
- Sensors & Others: 200mA @ 5V = 1.0W
- TOTAL: ~13.5W peak (with solenoid active)

Recommended: 12V 2A (24W) power supply
```

---

## ğŸ”Œ Relay Module Wiring Detail

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 3-CHANNEL RELAY MODULE                      â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚  â”‚ Relay 1  â”‚  â”‚ Relay 2  â”‚  â”‚ Relay 3  â”‚                 â”‚
â”‚  â”‚  (Door)  â”‚  â”‚  (Lamp)  â”‚  â”‚ (Curtain)â”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚       â”‚             â”‚             â”‚                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚  â”‚  COM NO  â”‚  â”‚  COM NO  â”‚  â”‚  COM NO  â”‚                 â”‚
â”‚  â”‚  NC      â”‚  â”‚  NC      â”‚  â”‚  NC      â”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚       â”‚             â”‚             â”‚                        â”‚
â”‚       â”‚             â”‚             â”‚                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚             â”‚             â”‚
  Control Inputs:     â”‚             â”‚
  â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”
  â”‚ IN1    â”‚ IN2         â”‚ IN3          â”‚
  â”‚ (GPIO4)â”‚ (GPIO2)     â”‚ (GPIO15)     â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Solenoid Lock Connection:
  Relay 1 COM â†’ 12V+
  Relay 1 NO  â†’ Solenoid Lock (+)
  Solenoid Lock (-) â†’ GND

Lamp Connection:
  Relay 2 COM â†’ 220V Live (or 5V for LED)
  Relay 2 NO  â†’ Lamp (+)
  Lamp (-)    â†’ Neutral (or GND)

Curtain Motor Connection:
  Relay 3 COM â†’ 12V+
  Relay 3 NO  â†’ Motor (+)
  Motor (-)   â†’ GND

âš ï¸  WARNING:
- Relay module biasanya ACTIVE LOW
- HIGH = Relay OFF, LOW = Relay ON
- Sesuaikan code jika relay Anda berbeda
```

---

## ğŸ“¶ Network Diagram

```
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚   WiFi Router   â”‚
                        â”‚  192.168.1.1    â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â”‚               â”‚               â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   ESP32 Main    â”‚     â”‚      â”‚   ESP32-CAM     â”‚
        â”‚ 192.168.1.101   â”‚     â”‚      â”‚ 192.168.1.102   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚               â”‚               â”‚
                 â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
                 â”‚      â”‚     Laptop      â”‚      â”‚
                 â”‚      â”‚  (Laragon)      â”‚      â”‚
                 â”‚      â”‚ 192.168.1.100   â”‚      â”‚
                 â”‚      â”‚                 â”‚      â”‚
                 â”‚      â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚      â”‚
                 â””â”€â”€â”€â”€â”€â”€â”¼â”€â†’â”‚ Mosquitto â”‚â†â”€â”¼â”€â”€â”€â”€â”€â”€â”˜
                        â”‚  â”‚   MQTT    â”‚  â”‚
                        â”‚  â”‚  Broker   â”‚  â”‚
                        â”‚  â”‚ Port 1883 â”‚  â”‚
                        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜  â”‚
                        â”‚          â”‚      â”‚
                        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”  â”‚
                        â”‚  â”‚  Backend  â”‚  â”‚
                        â”‚  â”‚  (Golang) â”‚  â”‚
                        â”‚  â”‚ Port 3000 â”‚  â”‚
                        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜  â”‚
                        â”‚          â”‚      â”‚
                        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”  â”‚
                        â”‚  â”‚  MySQL    â”‚  â”‚
                        â”‚  â”‚ Port 3306 â”‚  â”‚
                        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚  Flutter App    â”‚
                        â”‚  (Mobile/Web)   â”‚
                        â”‚                 â”‚
                        â”‚  REST API       â”‚
                        â”‚  WebSocket      â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

MQTT Topic Flow:
ESP32 Main â†’ smarthome/sensor/* â†’ Mosquitto â†’ Backend â†’ Database
ESP32-CAM â†’ smarthome/camera/* â†’ Mosquitto â†’ Backend â†’ Database
Backend â†’ smarthome/control/* â†’ Mosquitto â†’ ESP32 Main/CAM
Backend â†’ WebSocket â†’ Flutter App (real-time updates)
```

---

## ğŸ›¡ï¸ Solenoid Lock Wiring Detail

```
                    SOLENOID DOOR LOCK
                    
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                               â”‚
        â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
        â”‚   â”‚                       â”‚   â”‚
        â”‚   â”‚   Solenoid Coil       â”‚   â”‚
        â”‚   â”‚                       â”‚   â”‚
        â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
        â”‚           â”‚                   â”‚
        â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”            â”‚
        â”‚    â”‚   Slug      â”‚  â† Moves when powered
        â”‚    â”‚  (Plunger)  â”‚            â”‚
        â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
        â”‚                               â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚        â”‚
            Wire (+)    Wire (-)
                  â”‚        â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚      Relay Module            â”‚
        â”‚                              â”‚
        â”‚  IN (GPIO4) â† ESP32          â”‚
        â”‚                              â”‚
        â”‚  COM â† 12V+                  â”‚
        â”‚  NO  â†’ Solenoid (+)          â”‚
        â”‚                              â”‚
        â”‚  Solenoid (-) â†’ GND          â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Operation:
- ESP32 sends LOW to GPIO4
- Relay activates (COM connects to NO)
- 12V flows through solenoid
- Electromagnetic field pulls slug
- Door UNLOCKED

- ESP32 sends HIGH to GPIO4
- Relay deactivates (COM disconnects from NO)
- No power to solenoid
- Spring pushes slug back
- Door LOCKED

âš ï¸  Add flyback diode (1N4007) across solenoid
    to protect relay from back-EMF:
    
    Solenoid (+) â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€ Relay NO
                      â”‚
                    â”€â”€â”¼â”€â”€  (Diode 1N4007)
                      â”‚    cathode (line) to +
                      â”‚    anode to -
                      â”‚
    Solenoid (-) â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€ GND
```

---

## ğŸ›ï¸ Keypad 4Ã—4 Matrix Wiring Detail

```
            KEYPAD 4Ã—4 MATRIX

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   [1]  [2]  [3]  [A]          â”‚
    â”‚                               â”‚
    â”‚   [4]  [5]  [6]  [B]          â”‚
    â”‚                               â”‚
    â”‚   [7]  [8]  [9]  [C]          â”‚
    â”‚                               â”‚
    â”‚   [*]  [0]  [#]  [D]          â”‚
    â””â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”˜
        â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”‚
      Row1 Row2 Row3 Row4 Col1 Col2 Col3 Col4
        â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”‚
        â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”‚
    â”Œâ”€â”€â”€â–¼â”€â”€â”€â–¼â”€â”€â”€â–¼â”€â”€â”€â–¼â”€â”€â”€â–¼â”€â”€â”€â–¼â”€â”€â”€â–¼â”€â”€â”€â–¼â”€â”€â”€â”
    â”‚            ESP32                   â”‚
    â”‚                                    â”‚
    â”‚  GPIO 13 â† Row 1                  â”‚
    â”‚  GPIO 12 â† Row 2                  â”‚
    â”‚  GPIO 14 â† Row 3                  â”‚
    â”‚  GPIO 27 â† Row 4                  â”‚
    â”‚                                    â”‚
    â”‚  GPIO 26 â† Col 1                  â”‚
    â”‚  GPIO 25 â† Col 2                  â”‚
    â”‚  GPIO 33 â† Col 3                  â”‚
    â”‚  GPIO 32 â† Col 4                  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

How it works:
- Rows are set as OUTPUT
- Columns are set as INPUT_PULLUP
- Scan: Set one row LOW at a time
- Read all columns
- If column is LOW â†’ button pressed

Key Matrix:
       Col1  Col2  Col3  Col4
Row1:   1     2     3     A
Row2:   4     5     6     B
Row3:   7     8     9     C
Row4:   *     0     #     D

PIN Entry Example:
User presses: [1] [2] [3] [4] [5] [6] [#]
ESP32 reads: "123456"
Sends to backend via MQTT for validation
```

---

## ğŸ”Œ Complete Pin Assignment Table

| Component | ESP32 GPIO | Type | Notes |
|-----------|-----------|------|-------|
| **Sensors** | | | |
| DHT22 Data | 21 | Digital | Temperature & Humidity |
| LDR | 34 | Analog | Light sensor (ADC1_CH6) |
| MQ-2 | 35 | Analog | Gas sensor (ADC1_CH7) |
| **Fingerprint Sensor** | | | |
| Fingerprint RX | 16 | UART | Serial2 RX |
| Fingerprint TX | 17 | UART | Serial2 TX |
| **Keypad 4Ã—4** | | | |
| Keypad Row 1 | 13 | Digital | Output |
| Keypad Row 2 | 12 | Digital | Output |
| Keypad Row 3 | 14 | Digital | Output |
| Keypad Row 4 | 27 | Digital | Output |
| Keypad Col 1 | 26 | Digital | Input (pullup) |
| Keypad Col 2 | 25 | Digital | Input (pullup) |
| Keypad Col 3 | 33 | Digital | Input (pullup) |
| Keypad Col 4 | 32 | Digital | Input (pullup) |
| **Relays & Actuators** | | | |
| Relay Door | 4 | Digital | Solenoid lock control |
| Relay Lamp | 2 | Digital | Lamp control |
| Relay Curtain | 15 | Digital | Curtain motor control |
| Buzzer | 5 | Digital | Active buzzer |
| **Power** | | | |
| VCC (5V) | 5V | Power | From buck converter |
| Ground | GND | Power | Common ground |

**GPIO Restrictions:**
- GPIO 34-39: Input only (no internal pullup)
- GPIO 6-11: Reserved for flash (DON'T USE)
- GPIO 0, 2: Boot mode pins (use with caution)
- ADC2 (GPIO 0,2,4,12-15,25-27): Don't use when WiFi active

---

**IMPORTANT NOTES:**

1. **Power Supply:**
   - Use 12V 2A adapter
   - Use buck converter for 5V rail
   - Use separate power for ESP32-CAM (don't share with motors)

2. **Relay Module:**
   - Check if ACTIVE-LOW or ACTIVE-HIGH
   - Add flyback diodes for inductive loads
   - Use optocoupler isolation

3. **Solenoid Lock:**
   - Requires 12V @ 500mA
   - Add flyback diode (1N4007)
   - Use thick wires (min 18 AWG)

4. **Fingerprint Sensor:**
   - Use 5V power (not 3.3V)
   - RX/TX wiring: Cross-connect (ESP TX â†’ Sensor RX)
   - Baudrate: 57600

5. **ESP32-CAM:**
   - Requires stable 5V @ 2A (especially with flash)
   - No USB port â†’ Use UART bridge for upload
   - GPIO0 â†’ GND for upload mode

6. **Grounding:**
   - Use common ground for all components
   - Keep ground wires short
   - Use star grounding for power distribution

---

**TESTING ORDER:**

1. âœ… Power supply (12V â†’ 5V conversion)
2. âœ… ESP32 WiFi connection
3. âœ… MQTT connection
4. âœ… Sensors (DHT22, LDR, MQ-2)
5. âœ… Fingerprint sensor
6. âœ… Keypad
7. âœ… Relays (door, lamp, curtain)
8. âœ… Buzzer
9. âœ… ESP32-CAM camera stream
10. âœ… Face recognition
11. âœ… Complete system integration

---

Created by: Smart Home Team  
Last Updated: November 2024  
Version: 1.0.0
